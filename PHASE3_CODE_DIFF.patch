diff --git a/InternetRoom/InternetRoom3.cpp b/InternetRoom/InternetRoom3.cpp
index f66ca2e..8648330 100644
--- a/InternetRoom/InternetRoom3.cpp
+++ b/InternetRoom/InternetRoom3.cpp
@@ -436,6 +436,12 @@ class IRState
          char      mAddr[16];
          unsigned  mPort;
          int       mWeapon;
+
+         // Phase 3: Server-hosted fields
+         BOOL      mServerHosted;       // TRUE = central server, FALSE = P2P
+         char      mServerAddr[16];     // Central server IP (if hosted)
+         unsigned  mServerPort;         // Central server port (if hosted)
+         int       mServerRaceId;       // Opaque ID on central server
       };
 
       class ChatMessage
@@ -490,11 +496,14 @@ class IRState
       void BanIP( const char* pIP, int pDuration /*in minutes*/ );
       void AddUser(  const char* pUserName, int pVersion, int pMajorID, int pMinorID, unsigned int pKey2, unsigned int pKey3  );
       void AddGame(  const char* pGameName, const char* pTrackName, int pNbLap, int pPlayerIndex, int pPlayerId, const char* pRemoteAddr, unsigned int pPort, int pWeapon );
+      void AddGameHosted( const char* pGameName, const char* pTrackName, int pNbLap, int pPlayerIndex, int pPlayerId, int pWeapon, int pServerRaceId );
       void JoinGame( int pGameIndex, int pGameId, int pPlayerIndex, int pPlayerId );
+      void JoinGameHosted( int pGameIndex, int pGameId, int pPlayerIndex, int pPlayerId, int pServerRaceId );
       void DeleteGame( int pGameIndex, int pGameId, int pPlayerIndex, int pPlayerId );
       void LeaveGame( int pGameIndex, int pGameId, int pPlayerIndex, int pPlayerId  );
       void DeleteUser( int pUserIndex, int pUserId  );
       void StartGame( int pGameIndex, int pGameId, int pPlayerIndex, int pPlayerId );
+      void StartGameHosted( int pGameIndex, int pGameId, int pPlayerIndex, int pPlayerId, int pServerRaceId );
 
       void WWWMessageList();
       void WWWUserList();
@@ -563,6 +572,9 @@ void IRState::Clear()
    for( lCounter = 0; lCounter < IR_MAX_GAME; lCounter++ )
    {
       mGame[lCounter].mUsed = 0;
+      mGame[lCounter].mServerHosted = 0;
+      mGame[lCounter].mServerRaceId = 0;
+      mGame[lCounter].mServerPort = 0;
       mUser[lCounter].mTimeStamp = 0;
    }
 
@@ -2384,6 +2396,118 @@ void IRState::StartGame( int pGameIndex, int pGameId, int pPlayerIndex, int pPla
    }   
 }
 
+// Phase 3: Add server-hosted race
+void IRState::AddGameHosted( const char* pGameName, const char* pTrackName, int pNbLap, int pPlayerIndex, int pPlayerId, int pWeapon, int pServerRaceId )
+{
+   // Verify the user is valid
+   if( !ValidUserId( pPlayerIndex, pPlayerId ) )
+   {
+      Print( "ERROR 401\n" );
+   }
+   else
+   {
+      int  lCounter;
+
+      // Find an empty entry for the new game
+      for( lCounter = 0; lCounter < IR_MAX_GAME; lCounter++ )
+      {
+         if( !mGame[ lCounter ].mUsed )
+         {
+            break;
+         }
+      }
+
+      if( lCounter == IR_MAX_GAME )
+      {
+         Print( "ERROR 402\n" );
+      }
+      else
+      {
+         mGame[ lCounter ].mTimeStamp     = mTimeStamp;
+         mGame[ lCounter ].mUsed          = TRUE;
+         mGame[ lCounter ].mStarted       = FALSE;
+         mGame[ lCounter ].mId            = mNextGameId++;
+         mGame[ lCounter ].mNbLap         = pNbLap;
+         mGame[ lCounter ].mNbPlayer      = 1;
+         mGame[ lCounter ].mPlayers[0]    = pPlayerIndex;
+         mGame[ lCounter ].mWeapon        = pWeapon;
+         
+         // Server-hosted fields
+         mGame[ lCounter ].mServerHosted  = TRUE;
+         mGame[ lCounter ].mServerRaceId  = pServerRaceId;
+         strcpy( mGame[ lCounter ].mServerAddr, "127.0.0.1" );  // TODO: Get from config
+         mGame[ lCounter ].mServerPort    = 9600;               // TODO: Get from config
+
+         StrMaxCopy( mGame[ lCounter ].mName, pGameName, IR_GAME_NAME_LEN );
+         StrMaxCopy( mGame[ lCounter ].mTrack, pTrackName, IR_TRACK_NAME_LEN );
+         strcpy( mGame[ lCounter ].mAddr, "0.0.0.0" );          // Not used for server-hosted
+
+         Print( "SUCCESS\nGAME_ID %d-%u\nSERVER_ADDR %s:%u\n", lCounter, mGame[ lCounter ].mId, mGame[ lCounter ].mServerAddr, mGame[ lCounter ].mServerPort );
+         mTimeStamp++;
+
+         mUser[ pPlayerIndex ].mGameCode = 1;
+      }
+   }
+}
+
+// Phase 3: Join server-hosted race
+void IRState::JoinGameHosted( int pGameIndex, int pGameId, int pPlayerIndex, int pPlayerId, int pServerRaceId )
+{
+   if( !ValidUserId( pPlayerIndex, pPlayerId ) )
+   {
+      Print( "ERROR 501\n" );
+   }
+   else if( !ValidGameId( pGameIndex, pGameId) )
+   {
+      Print( "ERROR 502\n" );
+   }
+   else if( mGame[ pGameIndex ].mNbPlayer >= IR_MAX_PLAYER_GAME )
+   {
+      Print( "ERROR 503\n" );
+   }
+   else if( !mGame[ pGameIndex ].mServerHosted || mGame[ pGameIndex ].mServerRaceId != pServerRaceId )
+   {
+      Print( "ERROR 502\n" );  // Game no longer available or race ID mismatch
+   }
+   else
+   {
+      int lIndex = mGame[ pGameIndex ].mNbPlayer;
+      mGame[ pGameIndex ].mPlayers[ lIndex ] = pPlayerIndex;
+      mGame[ pGameIndex ].mNbPlayer++;
+
+      Print( "SUCCESS\nSERVER_ADDR %s:%u\n", mGame[ pGameIndex ].mServerAddr, mGame[ pGameIndex ].mServerPort );
+      mTimeStamp++;
+   }
+}
+
+// Phase 3: Start server-hosted race
+void IRState::StartGameHosted( int pGameIndex, int pGameId, int pPlayerIndex, int pPlayerId, int pServerRaceId )
+{
+   if( !ValidUserId( pPlayerIndex, pPlayerId ) )
+   {
+      Print( "ERROR 901\n" );
+   }
+   else if( !ValidGameId( pGameIndex, pGameId) )
+   {
+      Print( "ERROR 902\n" );
+   }
+   else if( mGame[ pGameIndex ].mPlayers[ 0 ] != pPlayerIndex )
+   {
+      Print( "ERROR 903\n" );
+   }
+   else if( !mGame[ pGameIndex ].mServerHosted || mGame[ pGameIndex ].mServerRaceId != pServerRaceId )
+   {
+      Print( "ERROR 902\n" );  // Game not found or race ID mismatch
+   }
+   else
+   {
+      Print( "SUCCESS\n" );
+
+      mGame[ pGameIndex ].mStarted = TRUE;
+      mTimeStamp++;
+   }   
+}
+
 
 
 
@@ -3117,6 +3241,24 @@ int main( int pArgc, const char** pArgs )
                               }
                            }
                         }
+                        // Phase 3: ADD_GAME_HOSTED USER_ID NAME TRACK NBLAP WEAPON SERVER_RACE_ID
+                        else if( !strcmp( lOp, "ADD_GAME_HOSTED" ) )
+                        {
+                           int       lUserIndex;
+                           int       lUserId;
+                           int       lNbLap;
+                           char      lGameName[40];
+                           char      lTrackName[40];
+                           int       lWeapon;
+                           int       lServerRaceId;
+               
+                           if( sscanf( lQuery, "%*s %d-%u %40s %40s %d %d %d", &lUserIndex, &lUserId, lGameName, lTrackName, &lNbLap, &lWeapon, &lServerRaceId )==7 )
+                           {
+                              Unpad( lTrackName );
+                              Unpad( lGameName );
+                              lState->AddGameHosted( lGameName, lTrackName, lNbLap, lUserIndex, lUserId, lWeapon, lServerRaceId );
+                           }
+                        }
                         else if( !strcmp( lOp, "JOIN_GAME" ) )
                         {
                            int   lUserIndex;
@@ -3175,6 +3317,34 @@ int main( int pArgc, const char** pArgs )
                               lState->StartGame( lGameIndex, lGameId, lUserIndex, lUserId );
                            }
                         }
+                        // Phase 3: JOIN_GAME_HOSTED GAME_ID USER_ID SERVER_RACE_ID
+                        else if( !strcmp( lOp, "JOIN_GAME_HOSTED" ) )
+                        {
+                           int   lUserIndex;
+                           int   lUserId;
+                           int   lGameIndex;
+                           int   lGameId;
+                           int   lServerRaceId;
+               
+                           if( sscanf( lQuery, "%*s %d-%u %d-%u %d", &lGameIndex, &lGameId, &lUserIndex, &lUserId, &lServerRaceId )==5 )
+                           {
+                              lState->JoinGameHosted( lGameIndex, lGameId, lUserIndex, lUserId, lServerRaceId );
+                           }
+                        }
+                        // Phase 3: START_GAME_HOSTED GAME_ID USER_ID SERVER_RACE_ID
+                        else if( !strcmp( lOp, "START_GAME_HOSTED" ) )
+                        {
+                           int   lUserIndex;
+                           int   lUserId;
+                           int   lGameIndex;
+                           int   lGameId;
+                           int   lServerRaceId;
+               
+                           if( sscanf( lQuery, "%*s %d-%u %d-%u %d", &lGameIndex, &lGameId, &lUserIndex, &lUserId, &lServerRaceId )==5 )
+                           {
+                              lState->StartGameHosted( lGameIndex, lGameId, lUserIndex, lUserId, lServerRaceId );
+                           }
+                        }
                         else if( !strcmp( lOp, "LOAD_DYN" ) )
                         {
                            Print( "LOAD DYNAMIC OK\n\n" );
